{"version":3,"sources":["webpack:///src/app/for_provider/pvd-manage-available-hours/pvd-manage-available-hours-routing.module.ts","webpack:///src/app/for_provider/pvd-manage-available-hours/pvd-manage-available-hours.page.html","webpack:///src/app/for_provider/pvd-add-available-hours/pvd-add-available-hours.component.html","webpack:///src/app/for_provider/pvd-add-available-hours/pvd-add-available-hours.component.ts","webpack:///src/app/for_provider/pvd-manage-available-hours/pvd-manage-available-hours.module.ts","webpack:///src/app/for_provider/pvd-add-available-hours/pvd-add-available-hours.component.scss","webpack:///src/app/for_provider/pvd-manage-available-hours/pvd-manage-available-hours.page.scss","webpack:///src/app/for_provider/pvd-manage-available-hours/pvd-manage-available-hours.page.ts"],"names":["routes","path","component","PvdManageAvailableHoursPageRoutingModule","imports","forChild","exports","PvdAddAvailableHoursComponent","modal","picker","env","calendarService","alert","isSubmitWaiting","availableHoursForm","timeFrom","timeTo","value","disabled","repeat","controls","valueChanges","subscribe","result","hours","time_from","SetTimeToBasedOnTimeFrom","setValue","time_to","refresh","dismiss","openDayOfWeekPicker","create","columns","getColumns","buttons","text","role","handler","dayOfWeek","mode","pipe","present","options","i","push","dayOfWeekText","name","selectedIndex","repeatDayOfWeek","addAvailableHours","presentSuccess","presentError","parseInt","selector","template","PvdManageAvailableHoursPageModule","declarations","entryComponents","PvdManageAvailableHoursPage","modalController","selectedDayOfWeek","Saturday","unfilteredAvailableHoursArray","filteredHours","calendarSubscription","availableHoursUpdated","fitlerHours","getAvailableHours","presentAddAvailableHoursModal","unsubscribe","ev","target","filter","hour","repeating_day_of_week","complete","id","removeAvailableHours","toggleDisabledAvailableHours","componentProps","onDidDismiss","data"],"mappings":"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","file":"for_provider-pvd-manage-available-hours-pvd-manage-available-hours-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PvdManageAvailableHoursPage } from './pvd-manage-available-hours.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PvdManageAvailableHoursPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PvdManageAvailableHoursPageRoutingModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"add()\\\">\\n        <ion-icon name=\\\"add-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button menu=\\\"end\\\">\\n        <ion-icon name=\\\"menu-outline\\\"></ion-icon>\\n      </ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>ساعات کاری</ion-title>\\n    \\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n  <ion-segment class=\\\"primary-segment\\\" scrollable [value]=\\\"selectedDayOfWeek\\\" (ionChange)=\\\"segmentChanged($event)\\\" mode=\\\"ios\\\">\\n    <ion-segment-button [value]=\\\"5\\\">\\n      <ion-label>شنبه</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button [value]=\\\"6\\\">\\n      <ion-label>یکشنبه</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button [value]=\\\"0\\\">\\n      <ion-label>دوشنبه</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button [value]=\\\"1\\\">\\n      <ion-label>سه شنبه</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button [value]=\\\"2\\\">\\n      <ion-label>چهارشنبه</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button [value]=\\\"3\\\">\\n      <ion-label>پنج شنبه</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button [value]=\\\"4\\\">\\n      <ion-label>جمعه</ion-label>\\n    </ion-segment-button>\\n  </ion-segment>\\n\\n\\n<ion-item-sliding *ngFor=\\\"let hours of filteredHours\\\" >\\n  <ion-item-options side=\\\"end\\\" class=\\\"\\\">\\n    <ion-item-option class=\\\"normal-text my-font\\\" (click)=\\\"delete(hours.id)\\\">\\n      <ion-icon slot=\\\"icon-only\\\" name=\\\"trash-outline\\\"></ion-icon>\\n    </ion-item-option>\\n  </ion-item-options>\\n\\n  <ion-item class=\\\"shadow-item\\\" button>\\n    <span class=\\\"normal-text\\\">{{hours.time_from}}</span>\\n  <span class=\\\"small-text light-text mx-2\\\">تا</span>\\n  <span class=\\\"normal-text\\\">{{hours.time_to}}</span>\\n  <ion-toggle class=\\\"primary-toggle\\\" slot=\\\"end\\\" [checked]=\\\"!hours.disabled\\\" (ionChange)=\\\"toggleDisabledHours(hours.id)\\\"></ion-toggle>\\n  </ion-item>\\n\\n  \\n</ion-item-sliding>\\n</ion-content>\\n\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"dismiss()\\\">\\n        <ion-icon name=\\\"close-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>ساعات کاری جدید</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <div class=\\\"flex-container action-container\\\">\\n    <form\\n      [formGroup]=\\\"availableHoursForm\\\"\\n      class=\\\"action-content flex-container d-flex flex-column justify-content-between h-100\\\"\\n    >\\n      <div>\\n        <ion-item>\\n          <ion-label>زمان شروع</ion-label>\\n          <ion-datetime\\n            display-format=\\\"HH:mm\\\"\\n            doneText=\\\"تأیید\\\"\\n            cancelText=\\\"انصراف\\\"\\n            mode=\\\"ios\\\"\\n            picker-format=\\\"HH:mm\\\"\\n            formControlName=\\\"timeFrom\\\"\\n          ></ion-datetime>\\n        </ion-item>\\n        <ion-item>\\n          <ion-label>زمان پایان</ion-label>\\n          <ion-datetime\\n            display-format=\\\"HH:mm\\\"\\n            doneText=\\\"تأیید\\\"\\n            cancelText=\\\"انصراف\\\"\\n            mode=\\\"ios\\\"\\n            picker-format=\\\"Hmm\\\"\\n            formControlName=\\\"timeTo\\\"\\n          ></ion-datetime>\\n        </ion-item>\\n        <ion-item class=\\\"d-none\\\">\\n          <ion-label>تکرار</ion-label>\\n          <ion-toggle\\n            mode=\\\"ios\\\"\\n            #repeatToggle\\n            formControlName=\\\"repeat\\\"\\n          ></ion-toggle>\\n        </ion-item>\\n        <ion-item\\n          [disabled]=\\\"!repeatToggle.checked\\\"\\n          (click)=\\\"selectDayOfWeek()\\\"\\n        >\\n          <ion-label>روز تکرار</ion-label>\\n          <span slot=\\\"end\\\">{{\\n            getDayText()\\n          }}</span>\\n        </ion-item>\\n      </div>\\n    </form>\\n    <div class=\\\"actions\\\">\\n      <div class=\\\"actions-wrapper\\\">\\n        <app-submit-button text=\\\"ثبت\\\" [isWaiting]=\\\"isSubmitWaiting\\\" (submitted)=\\\"submit()\\\">\\n\\n        </app-submit-button>\\n      </div>\\n    </div>\\n  </div>\\n</ion-content>\\n\";","import { AvailableHours } from './../../models/available-hours';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { CalendarService } from './../../services/calendar.service';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { EnvService, DaysOfWeek } from \"src/app/services/env.service\";\nimport { concatMap } from \"rxjs/operators\";\nimport { from } from \"rxjs\";\nimport { ModalController, PickerController } from \"@ionic/angular\";\nimport { Component, OnInit, Input } from \"@angular/core\";\n\n@Component({\n  selector: \"app-pvd-add-available-hours\",\n  templateUrl: \"./pvd-add-available-hours.component.html\",\n  styleUrls: [\"./pvd-add-available-hours.component.scss\"],\n})\nexport class PvdAddAvailableHoursComponent implements OnInit {\n  \n  @Input() dayOfWeek;\n  isSubmitWaiting = false;\n  availableHoursForm = new FormGroup(\n\t\t{\n\t\t\ttimeFrom: new FormControl(\"08:00\"),\n\t\t\ttimeTo: new FormControl({value:\"09:00\", disabled:true}),\n      repeat: new FormControl({value:true, disabled:true})\n\t\t}\n\t);\n  constructor(\n    private modal: ModalController,\n    private picker: PickerController,\n    public env: EnvService,\n    private calendarService:CalendarService,\n    private alert:AlertService\n  ) {\n    this.availableHoursForm.controls.timeFrom.valueChanges.subscribe(result=>{\n      let hours = new AvailableHours();\n      hours.time_from = result;\n      AvailableHours.SetTimeToBasedOnTimeFrom(hours);\n      this.availableHoursForm.controls.timeTo.setValue(hours.time_to);\n    })\n  }\n  dismiss(refresh = false) {\n    this.modal.dismiss({ refresh: refresh });\n  }\n  selectDayOfWeek() {\n    this.openDayOfWeekPicker().subscribe();\n  }\n\n  openDayOfWeekPicker() {\n    return from(\n      this.picker.create({\n        columns: this.getColumns(),\n        buttons: [\n          {\n            text: \"انصراف\",\n            role: \"cancel\",\n          },\n          {\n            text: \"تأیید\",\n            handler: (value) => {\n              this.dayOfWeek = value['col-1'][\"value\"];\n            },\n          }\n        ],\n        mode: \"ios\",\n      })\n    ).pipe(\n      concatMap((picker) => {\n        return from(picker.present());\n      })\n    );\n  }\n  getColumns() {\n    let columns = [];\n    let options = [];\n    for (let i = 0; i < 7; i++) {\n      \n      options.push({\n        text: this.env.dayOfWeekText(i),\n        value: i,\n      });\n    }\n    \n    columns.push({\n      name: \"col-1\",\n      options: options,\n      selectedIndex:this.dayOfWeek\n    });\n\n    return columns;\n  }\n  submit(){\n    this.isSubmitWaiting = true;\n    let timeFrom = this.availableHoursForm.controls.timeFrom.value;\n    let timeTo = this.availableHoursForm.controls.timeTo.value;\n    let repeat = this.availableHoursForm.controls.repeat.value;\n    let repeatDayOfWeek = this.dayOfWeek;\n    this.calendarService.addAvailableHours(timeFrom, timeTo, repeat, repeatDayOfWeek).subscribe(result=>{\n      if(result)\n      {\n         this.alert.presentSuccess(\"ساعات کاری اضافه شد.\");\n        this.modal.dismiss();\n      }\n      else\n      {\n        this.alert.presentError(\"بین ساعت های انتخابی این روز هم پوشانی وجود دارد.\");\n      }\n       \n        this.isSubmitWaiting = false;\n      })\n  }\n  ngOnInit() {\n  }\n  getDayText()\n  {\n    return this.env.dayOfWeekText(parseInt(this.dayOfWeek));\n  }\n}\n","import { CommonDeclarationsModule } from './../../common/common-declarations/common-declarations.module';\nimport { PvdAddAvailableHoursComponent } from './../pvd-add-available-hours/pvd-add-available-hours.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PvdManageAvailableHoursPageRoutingModule } from './pvd-manage-available-hours-routing.module';\n\nimport { PvdManageAvailableHoursPage } from './pvd-manage-available-hours.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PvdManageAvailableHoursPageRoutingModule,\n    ReactiveFormsModule,\n    CommonDeclarationsModule\n  ],\n  declarations: [PvdManageAvailableHoursPage, PvdAddAvailableHoursComponent],\n  entryComponents:[PvdAddAvailableHoursComponent]\n\n})\nexport class PvdManageAvailableHoursPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Zvcl9wcm92aWRlci9wdmQtYWRkLWF2YWlsYWJsZS1ob3Vycy9wdmQtYWRkLWF2YWlsYWJsZS1ob3Vycy5jb21wb25lbnQuc2NzcyJ9 */\";","export default \"@font-face {\\n  font-family: myIranSans;\\n  src: url('IRANSans.ttf');\\n  font-weight: 400;\\n}\\n@font-face {\\n  font-family: myIranSans;\\n  src: url('IRANSans_Bold.ttf');\\n  font-weight: 700;\\n}\\n@font-face {\\n  font-family: myIranSans;\\n  src: url('IRANSans_Light.ttf');\\n  font-weight: 300;\\n}\\n@font-face {\\n  font-family: myIranSansFaNum;\\n  src: url('IRANSans(FaNum)_UltraLight.ttf');\\n  font-weight: 200;\\n}\\n@font-face {\\n  font-family: myIranSansFaNum;\\n  src: url('IRANSans(FaNum)_Medium.ttf');\\n  font-weight: 500;\\n}\\n@font-face {\\n  font-family: myIranSansFaNum;\\n  src: url('IRANSans(FaNum).ttf');\\n  font-weight: 400;\\n}\\n@font-face {\\n  font-family: myIranSansFaNum;\\n  src: url('IRANSans(FaNum)_Bold.ttf');\\n  font-weight: 700;\\n}\\n@font-face {\\n  font-family: myIranSansFaNum;\\n  src: url('IRANSans(FaNum)_Light.ttf');\\n  font-weight: 300;\\n}\\n@font-face {\\n  font-family: myIranSansFaNum;\\n  src: url('IRANSans(FaNum)_UltraLight.ttf');\\n  font-weight: 200;\\n}\\n@font-face {\\n  font-family: myIranSansFaNum;\\n  src: url('IRANSans(FaNum)_Medium.ttf');\\n  font-weight: 500;\\n}\\nion-item-option {\\n  background-color: transparent;\\n  color: #e65844;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy90aGVtZS9mb250cy5zY3NzIiwic3JjL2FwcC9mb3JfcHJvdmlkZXIvcHZkLW1hbmFnZS1hdmFpbGFibGUtaG91cnMvcHZkLW1hbmFnZS1hdmFpbGFibGUtaG91cnMucGFnZS5zY3NzIiwic3JjL3RoZW1lL2NvbW1vbi5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksdUJBQUE7RUFDQSx3QkFBQTtFQUNBLGdCQUFBO0FDQ0o7QURDRTtFQUNFLHVCQUFBO0VBQ0EsNkJBQUE7RUFDQSxnQkFBQTtBQ0NKO0FEQ0U7RUFDRSx1QkFBQTtFQUNBLDhCQUFBO0VBQ0EsZ0JBQUE7QUNDSjtBRENFO0VBQ0UsNEJBQUE7RUFDQSwwQ0FBQTtFQUNBLGdCQUFBO0FDQ0o7QURDRTtFQUNFLDRCQUFBO0VBQ0Esc0NBQUE7RUFDQSxnQkFBQTtBQ0NKO0FEQ0U7RUFDRSw0QkFBQTtFQUNBLCtCQUFBO0VBQ0EsZ0JBQUE7QUNDSjtBRENFO0VBQ0UsNEJBQUE7RUFDQSxvQ0FBQTtFQUNBLGdCQUFBO0FDQ0o7QURDRTtFQUNFLDRCQUFBO0VBQ0EscUNBQUE7RUFDQSxnQkFBQTtBQ0NKO0FEQ0U7RUFDRSw0QkFBQTtFQUNBLDBDQUFBO0VBQ0EsZ0JBQUE7QUNDSjtBRENFO0VBQ0UsNEJBQUE7RUFDQSxzQ0FBQTtFQUNBLGdCQUFBO0FDQ0o7QUEvQ0E7RUFFSSw2QkFBQTtFQUNBLGNDUWM7QUR3Q2xCIiwiZmlsZSI6InNyYy9hcHAvZm9yX3Byb3ZpZGVyL3B2ZC1tYW5hZ2UtYXZhaWxhYmxlLWhvdXJzL3B2ZC1tYW5hZ2UtYXZhaWxhYmxlLWhvdXJzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBmb250LWZhY2Uge1xuICAgIGZvbnQtZmFtaWx5OiBteUlyYW5TYW5zO1xuICAgIHNyYzogdXJsKCcuLi9hc3NldHMvZm9udHMvSVJBTlNhbnMudHRmJyk7XG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgfVxuICBAZm9udC1mYWNlIHtcbiAgICBmb250LWZhbWlseTogbXlJcmFuU2FucztcbiAgICBzcmM6IHVybCgnLi4vYXNzZXRzL2ZvbnRzL0lSQU5TYW5zX0JvbGQudHRmJyk7XG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgfVxuICBAZm9udC1mYWNlIHtcbiAgICBmb250LWZhbWlseTogbXlJcmFuU2FucztcbiAgICBzcmM6IHVybCgnLi4vYXNzZXRzL2ZvbnRzL0lSQU5TYW5zX0xpZ2h0LnR0ZicpO1xuICAgIGZvbnQtd2VpZ2h0OiAzMDA7XG4gIH1cbiAgQGZvbnQtZmFjZSB7XG4gICAgZm9udC1mYW1pbHk6IG15SXJhblNhbnNGYU51bTtcbiAgICBzcmM6IHVybCgnLi4vYXNzZXRzL2ZvbnRzL0lSQU5TYW5zKEZhTnVtKV9VbHRyYUxpZ2h0LnR0ZicpO1xuICAgIGZvbnQtd2VpZ2h0OiAyMDA7XG4gIH1cbiAgQGZvbnQtZmFjZSB7XG4gICAgZm9udC1mYW1pbHk6IG15SXJhblNhbnNGYU51bTtcbiAgICBzcmM6IHVybCgnLi4vYXNzZXRzL2ZvbnRzL0lSQU5TYW5zKEZhTnVtKV9NZWRpdW0udHRmJyk7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgfVxuICBAZm9udC1mYWNlIHtcbiAgICBmb250LWZhbWlseTogbXlJcmFuU2Fuc0ZhTnVtO1xuICAgIHNyYzogdXJsKCcuLi9hc3NldHMvZm9udHMvSVJBTlNhbnMoRmFOdW0pLnR0ZicpO1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIH1cbiAgQGZvbnQtZmFjZSB7XG4gICAgZm9udC1mYW1pbHk6IG15SXJhblNhbnNGYU51bTtcbiAgICBzcmM6IHVybCgnLi4vYXNzZXRzL2ZvbnRzL0lSQU5TYW5zKEZhTnVtKV9Cb2xkLnR0ZicpO1xuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG4gIH1cbiAgQGZvbnQtZmFjZSB7XG4gICAgZm9udC1mYW1pbHk6IG15SXJhblNhbnNGYU51bTtcbiAgICBzcmM6IHVybCgnLi4vYXNzZXRzL2ZvbnRzL0lSQU5TYW5zKEZhTnVtKV9MaWdodC50dGYnKTtcbiAgICBmb250LXdlaWdodDogMzAwO1xuICB9XG4gIEBmb250LWZhY2Uge1xuICAgIGZvbnQtZmFtaWx5OiBteUlyYW5TYW5zRmFOdW07XG4gICAgc3JjOiB1cmwoJy4uL2Fzc2V0cy9mb250cy9JUkFOU2FucyhGYU51bSlfVWx0cmFMaWdodC50dGYnKTtcbiAgICBmb250LXdlaWdodDogMjAwO1xuICB9XG4gIEBmb250LWZhY2Uge1xuICAgIGZvbnQtZmFtaWx5OiBteUlyYW5TYW5zRmFOdW07XG4gICAgc3JjOiB1cmwoJy4uL2Fzc2V0cy9mb250cy9JUkFOU2FucyhGYU51bSlfTWVkaXVtLnR0ZicpO1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIH0iLCJAaW1wb3J0ICdzcmMvdGhlbWUvY29tbW9uJztcblxuaW9uLWl0ZW0tb3B0aW9uXG57XG4gICAgYmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtcbiAgICBjb2xvcjokc2Vjb25kYXJ5LWNvbG9yO1xufSIsIlxuQGltcG9ydCAnZm9udHMuc2Nzcyc7XG4kZm9udCA6IFwibXlJcmFuU2Fuc1wiO1xuJGZvbnROdW0gOiBcIm15SXJhblNhbnNGYU51bVwiO1xuJHByaW1hcnktY29sb3ItZGFyazogIzQ3OTY5YjtcbiRwcmltYXJ5LWNvbG9yLWxpZ2h0OiNhNWRhZGU7XG4kcHJpbWFyeS1jb2xvci14ZGFyazojMmM4MTg2O1xuJHByaW1hcnktY29sb3IteGxpZ2h0OiNkN2YzZjY7XG4kcHJpbWFyeS1jb2xvcjogIzcxYmNjMTtcbiRzZWNvbmRhcnktY29sb3ItZGFyazogI2NlMzIxYztcbiRzZWNvbmRhcnktY29sb3ItbGlnaHQ6I2ZlN2Y3MDtcbiRzZWNvbmRhcnktY29sb3IteGRhcms6I2EyMWQwYTtcbiRzZWNvbmRhcnktY29sb3IteGxpZ2h0OiNmZmExOTg7XG4kc2Vjb25kYXJ5LWNvbG9yOiAjZTY1ODQ0O1xuJHRlcnRpYXJ5LWNvbG9yOiM3MWNlOTk7XG4kcXVhdGVybmFyeS1jb2xvcjojZWViZDYwO1xuJGRhcmstdGV4dC1jb2xvcjojNGU0ZTRlO1xuJGxpZ2h0LXRleHQtY29sb3I6I2E1YTVhNTtcbiRvbmxpbmUtY29sb3I6bGltZTtcbiRvZmZsaW5lLWNvbG9yOmdyYXk7XG5AbWl4aW4gcm90YXRlKCRkZWdyZWVzKSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgkZGVncmVlcyk7XG4gICAgLW1vei10cmFuc2Zvcm06IHJvdGF0ZSgkZGVncmVlcyk7XG4gICAgLW1zLXRyYW5zZm9ybTogcm90YXRlKCRkZWdyZWVzKTtcbiAgICAtby10cmFuc2Zvcm06IHJvdGF0ZSgkZGVncmVlcyk7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoJGRlZ3JlZXMpO1xufVxuQG1peGluIGJveC1zaGFkb3coJGxlZnQsICR0b3AsICRyYWRpdXMsICRjb2xvcikge1xuXHRib3gtc2hhZG93OiAkbGVmdCAkdG9wICRyYWRpdXMgJGNvbG9yO1xuXHQtd2Via2l0LWJveC1zaGFkb3c6ICRsZWZ0ICR0b3AgJHJhZGl1cyAkY29sb3I7XG5cdC1tb3otYm94LXNoYWRvdzogJGxlZnQgJHRvcCAkcmFkaXVzICRjb2xvcjtcbn1cbkBtaXhpbiBib3gtc2hhZG93LWZ1bGwoJGxlZnQsICR0b3AsICRibHVyLCAkc3ByZWFkLCAkY29sb3IpIHtcblx0Ym94LXNoYWRvdzogJGxlZnQgJHRvcCAkYmx1ciAkc3ByZWFkICRjb2xvcjtcblx0LXdlYmtpdC1ib3gtc2hhZG93OiAkbGVmdCAkdG9wICRibHVyICRzcHJlYWQgJGNvbG9yO1xuXHQtbW96LWJveC1zaGFkb3c6ICRsZWZ0ICR0b3AgJGJsdXIgJHNwcmVhZCAkY29sb3I7XG59XG5AbWl4aW4gYm94LXNoYWRvdy1mdWxsLWluc2V0KCRsZWZ0LCAkdG9wLCAkYmx1ciwgJHNwcmVhZCwgJGNvbG9yKSB7XG5cdGJveC1zaGFkb3c6IGluc2V0ICRsZWZ0ICR0b3AgJGJsdXIgJHNwcmVhZCAkY29sb3I7XG5cdC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgJGxlZnQgJHRvcCAkYmx1ciAkc3ByZWFkICRjb2xvcjtcblx0LW1vei1ib3gtc2hhZG93OiBpbnNldCAkbGVmdCAkdG9wICRibHVyICRzcHJlYWQgJGNvbG9yO1xufVxuQG1peGluIGJvcmRlci1yYWRpdXMoJHJhZGl1cykge1xuXHRib3JkZXItcmFkaXVzOiAkcmFkaXVzO1xuXHQtd2Via2l0LWJvcmRlci1yYWRpdXM6ICRyYWRpdXM7XG4gICAgLW1vei1ib3JkZXItcmFkaXVzOiAkcmFkaXVzO1xuICAgIC0tYm9yZGVyLXJhZGl1czokcmFkaXVzO1xufVxuQG1peGluIHRyYW5zZm9ybSgkdHJhbnNmb3Jtcykge1xuXHQtd2Via2l0LXRyYW5zZm9ybTogJHRyYW5zZm9ybXM7XG5cdC1tb3otdHJhbnNmb3JtOiAkdHJhbnNmb3Jtcztcblx0LW1zLXRyYW5zZm9ybTogJHRyYW5zZm9ybXM7XG5cdHRyYW5zZm9ybTogJHRyYW5zZm9ybXM7XG59Il19 */\";","import { AvailableHours } from \"./../../models/available-hours\";\nimport { CalendarService } from \"./../../services/calendar.service\";\nimport { Subscription } from \"rxjs\";\nimport { concatMap } from \"rxjs/operators\";\nimport { from } from \"rxjs\";\nimport { PvdAddAvailableHoursComponent } from \"./../pvd-add-available-hours/pvd-add-available-hours.component\";\nimport { ModalController } from \"@ionic/angular\";\nimport { Component, OnInit } from \"@angular/core\";\nimport { DaysOfWeek, EnvService } from \"src/app/services/env.service\";\n\n@Component({\n  selector: \"app-pvd-manage-available-hours\",\n  templateUrl: \"./pvd-manage-available-hours.page.html\",\n  styleUrls: [\"./pvd-manage-available-hours.page.scss\"],\n})\nexport class PvdManageAvailableHoursPage implements OnInit {\n  calendarSubscription: Subscription;\n  constructor(\n    private modalController: ModalController,\n    private calendarService: CalendarService,\n    public env:EnvService\n  ) {}\n  selectedDayOfWeek: DaysOfWeek = DaysOfWeek.Saturday;\n  unfilteredAvailableHoursArray: AvailableHours[] = [];\n  filteredHours:AvailableHours[] = [];\n  ngOnInit() {}\n  ionViewWillEnter() {\n    this.calendarSubscription = this.calendarService.availableHoursUpdated.subscribe(\n      (result) => {\n        this.unfilteredAvailableHoursArray = result;\n        this.fitlerHours();\n      }\n    );\n    this.calendarService.getAvailableHours().subscribe();\n  }\n  add() {\n    this.presentAddAvailableHoursModal().subscribe();\n  }\n  ionViewWillLeave() {\n    this.calendarSubscription.unsubscribe();\n  }\n  segmentChanged(ev)\n  {\n    this.selectedDayOfWeek = ev.target.value;\n    this.fitlerHours();\n  }\n  fitlerHours() {\n      this.filteredHours = this.unfilteredAvailableHoursArray.filter(\n        (hour) => {\n          return hour.repeating_day_of_week == this.selectedDayOfWeek;\n        }\n      );\n    \n  }\n  refresh(ev)\n  {\n    this.calendarService.getAvailableHours().subscribe(result=>{\n      ev.target.complete();\n    });\n  }\n  delete(id)\n  {\n    this.calendarService.removeAvailableHours(id).subscribe();\n  }\n  toggleDisabledHours(id)\n  {\n    this.calendarService.toggleDisabledAvailableHours(id).subscribe();\n  }\n  presentAddAvailableHoursModal() {\n    return from(\n      this.modalController.create({\n        component: PvdAddAvailableHoursComponent,\n        componentProps:{\n          dayOfWeek: this.selectedDayOfWeek\n        }\n      })\n    ).pipe(\n      concatMap((modal) => {\n        modal.onDidDismiss;\n        from(modal.onDidDismiss()).subscribe((data) => {});\n        return from(modal.present());\n      })\n    );\n  }\n}\n"]}