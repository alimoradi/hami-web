{"version":3,"sources":["webpack:///src/app/auth/register/register.page.html","webpack:///src/app/auth/register/register-routing.module.ts","webpack:///src/app/auth/register/register.module.ts","webpack:///src/app/auth/register/register.page.scss","webpack:///src/app/auth/register/register.page.ts"],"names":["routes","path","component","RegisterPageRoutingModule","imports","forChild","exports","RegisterPageModule","declarations","entryComponents","RegisterPage","menu","alertService","navContorll","authService","env","providerService","modalController","formHelper","registerForm","firstName","lastName","phone","compose","required","pattern","password","isProvider","hasAffiliateCode","affiliateCode","acceptedTerms","validationMessages","addValidationMessage","REQUIRED","PATTERN","setConditionalValidators","controls","enable","presentTermsModal","subscribe","create","componentProps","pipe","modal","onDidDismiss","data","present","form","validateForm","roleId","USER_ROLE_ID","value","PROVIDER_ROLE_ID","somethingIsPending","register","result","requestVerificationCode","tempPassword","tempPhoneNumber","err","presentError","serverErrorMessage","error","somethingIsDonePending","presentSuccess","navigateForward","selector","template"],"mappings":"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","file":"auth-register-register-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n\\t<ion-buttons slot=\\\"end\\\">\\n\\t\\t<app-loading-toolbar-button></app-loading-toolbar-button>\\n\\t  </ion-buttons>\\n    <ion-title>ثبت نام</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content class=\\\"ion-padding\\\">\\n  <form\\n    [formGroup]=\\\"registerForm\\\"\\n    (ngSubmit)=\\\"register(registerForm)\\\"\\n    class=\\\"action-container register-form\\\"\\n    method=\\\"post\\\"\\n  >\\n    <div class=\\\"action-content\\\">\\n      <div class=\\\"row justify-content-center\\\" *ngIf=\\\"registerForm.controls.isProvider.value\\\">\\n        <div class=\\\"col-12\\\">\\n          <ion-item>\\n            <ion-input  placeholder=\\\"نام\\\" formControlName=\\\"firstName\\\"></ion-input>\\n          </ion-item>\\n        </div>\\n      </div>\\n      <div class=\\\"row justify-content-center\\\" *ngIf=\\\"registerForm.controls.isProvider.value\\\">\\n        <div class=\\\"col-12\\\">\\n          <ion-item>\\n            <ion-input\\n              placeholder=\\\"نام خانوادگی\\\"\\n              formControlName=\\\"lastName\\\"\\n            ></ion-input>\\n          </ion-item>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row justify-content-center\\\">\\n        <div class=\\\"col-12\\\">\\n          <ion-item>\\n            <ion-input\\n              type=\\\"phone\\\"\\n              placeholder=\\\"شماره موبایل ۰۹XXXXXXXX\\\"\\n              formControlName=\\\"phone\\\"\\n            ></ion-input>\\n          </ion-item>\\n        </div>\\n      </div>\\n      <div class=\\\"row justify-content-center\\\">\\n        <div class=\\\"col-12\\\">\\n          <ion-item>\\n            <ion-input\\n              type=\\\"password\\\"\\n              placeholder=\\\"گذرواژه\\\"\\n              formControlName=\\\"password\\\"\\n            ></ion-input>\\n          </ion-item>\\n        </div>\\n      </div>\\n      <div class=\\\"row mt-3 justify-content-start\\\">\\n        <div class=\\\"col-6 d-flex align-items-center justify-content-right\\\">\\n          <ion-checkbox\\n          formControlName=\\\"isProvider\\\"\\n            #isProvider\\n            class=\\\"primary-checkbox\\\"\\n          ></ion-checkbox>\\n          <span class=\\\"light-text small-text mr-2\\\">به عنوان مشاور</span>\\n        </div>\\n      </div>\\n      <div   class=\\\"row mt-3 justify-content-start\\\">\\n        <div  class=\\\"col-6 d-flex align-items-center justify-content-right\\\">\\n          <ion-checkbox\\n            formControlName=\\\"hasAffiliateCode\\\"\\n            \\n            class=\\\"primary-checkbox\\\"\\n          ></ion-checkbox>\\n          <span class=\\\"light-text small-text mr-2\\\">کد معرفی دارم.</span>\\n        </div>\\n      </div>\\n      <div *ngIf=\\\"registerForm.controls.hasAffiliateCode.value \\\" class=\\\"row justify-content-center\\\">\\n        <div class=\\\"col-12\\\">\\n          <ion-item>\\n            <ion-input\\n              type=\\\"phone\\\"\\n              placeholder=\\\"کد معرف ۰۹XXXXXXXX\\\"\\n              formControlName=\\\"affiliateCode\\\"\\n            ></ion-input>\\n          </ion-item>\\n        </div>\\n      </div>\\n      <div class=\\\"row mt-3 justify-content-start\\\">\\n        <div class=\\\"col-6 d-flex align-items-center justify-content-right\\\">\\n          <ion-checkbox\\n            formControlName=\\\"acceptedTerms\\\"\\n            #acceptedTerms\\n            class=\\\"primary-checkbox\\\"\\n          ></ion-checkbox>\\n          <span class=\\\"light-text small-text mr-2\\\" ><u (click)=\\\"openTerms()\\\">قوانین</u> را می پذیرم.</span>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"actions\\\">\\n      <div class=\\\"actions-wrapper dual\\\">\\n        <app-submit-button [disabled]=\\\"!registerForm.controls.acceptedTerms.value\\\" text=\\\"ثبت نام\\\" ></app-submit-button>\\n        <span class=\\\"small-text light-text align-self-center mt-3 mb-1\\\">حساب کاربری از پیش ساخته اید؟</span>\\n\\n        <ion-button\\n          class=\\\"secondary-button\\\"\\n          routerLink=\\\"/login\\\"\\n          routerDirection=\\\"back\\\"\\n          >وارد شوید</ion-button\\n        >\\n      </div>\\n    </div>\\n  </form>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RegisterPage } from './register.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RegisterPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RegisterPageRoutingModule {}\n","import { ReactiveFormsModule } from '@angular/forms';\nimport { TermsComponent } from './../../common/static/terms/terms.component';\nimport { CommonDeclarationsModule } from './../../common/common-declarations/common-declarations.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RegisterPageRoutingModule } from './register-routing.module';\n\nimport { RegisterPage } from './register.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RegisterPageRoutingModule,\n    CommonDeclarationsModule,\n    ReactiveFormsModule\n  ],\n  declarations: [RegisterPage],\n  entryComponents: [TermsComponent]\n})\nexport class RegisterPageModule {}\n","export default \".register-form {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXV0aC9yZWdpc3Rlci9yZWdpc3Rlci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFHSSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsOEJBQUE7QUFESiIsImZpbGUiOiJzcmMvYXBwL2F1dGgvcmVnaXN0ZXIvcmVnaXN0ZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnJlZ2lzdGVyLWZvcm1cbntcblxuICAgIGhlaWdodDogMTAwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuXG59Il19 */\";","import { FormHelperService } from \"./../../services/form-helper.service\";\nimport {\n  FormValidationMessageField,\n  FormValidationType,\n} from \"src/app/models/from-validation-message\";\nimport { TermsComponent } from \"./../../common/static/terms/terms.component\";\nimport { ProviderGroup } from \"./../../models/provider-group\";\nimport { ProviderService } from \"./../../services/provider.service\";\nimport { EnvService } from \"./../../services/env.service\";\nimport { tap, takeUntil } from \"rxjs/operators\";\nimport { catchError, map } from \"rxjs/operators\";\nimport { concatMap } from \"rxjs/operators\";\nimport { AuthService } from \"src/app/services/auth.service\";\nimport { AlertService } from \"./../../services/alert.service\";\nimport { NgForm, FormGroup, FormControl, Validators } from \"@angular/forms\";\nimport { Component, OnInit } from \"@angular/core\";\nimport { MenuController, NavController, ModalController } from \"@ionic/angular\";\nimport { of, from, Subject } from \"rxjs\";\n@Component({\n  selector: \"app-register\",\n  templateUrl: \"./register.page.html\",\n  styleUrls: [\"./register.page.scss\"],\n})\nexport class RegisterPage implements OnInit {\n  registerForm = new FormGroup({\n    firstName: new FormControl(),\n    lastName: new FormControl(),\n    phone: new FormControl(\n      \"\",\n      Validators.compose([Validators.required, Validators.pattern(\"09\\\\d{9}\")])\n    ),\n    password: new FormControl(\"\", Validators.required),\n    isProvider: new FormControl(false),\n    hasAffiliateCode: new FormControl(false),\n    affiliateCode: new FormControl(\"\"),\n    acceptedTerms: new FormControl(false),\n  });\n  validationMessages: FormValidationMessageField[] = [];\n  constructor(\n    private menu: MenuController,\n    private alertService: AlertService,\n    private navContorll: NavController,\n    private authService: AuthService,\n    private env: EnvService,\n    private providerService: ProviderService,\n    private modalController: ModalController,\n    private formHelper: FormHelperService\n  ) {\n    this.formHelper.addValidationMessage(\n      this.validationMessages,\n      \"firstName\",\n      FormValidationType.REQUIRED,\n      \"نام الزامی است.\"\n    );\n    this.formHelper.addValidationMessage(\n      this.validationMessages,\n      \"lastName\",\n      FormValidationType.REQUIRED,\n      \"نام خانوادگی الزامی است.\"\n    );\n    this.formHelper.addValidationMessage(\n      this.validationMessages,\n      \"affiliateCode\",\n      FormValidationType.REQUIRED,\n      \"کد معرف وارد نشده است.\"\n    );\n    this.formHelper.addValidationMessage(\n      this.validationMessages,\n      \"affiliateCode\",\n      FormValidationType.PATTERN,\n      \"کد معرف یک شماره موبایل است.\"\n    );\n    this.formHelper.addValidationMessage(\n      this.validationMessages,\n      \"phone\",\n      FormValidationType.REQUIRED,\n      \"شماره موبایل الزامی است.\"\n    );\n    this.formHelper.addValidationMessage(\n      this.validationMessages,\n      \"phone\",\n      FormValidationType.PATTERN,\n      \"فرمت شماره موبایل صحیح نیست.\"\n    );\n    this.formHelper.addValidationMessage(\n      this.validationMessages,\n      \"password\",\n      FormValidationType.REQUIRED,\n      \"گذرواژه الزامی است.\"\n    );\n  }\n\n  ngOnInit() {\n    this.formHelper.setConditionalValidators(\n      this.registerForm.controls.firstName as FormControl,\n      this.registerForm.controls.isProvider as FormControl,\n      null,\n      Validators.required,\n      this\n    );\n    this.formHelper.setConditionalValidators(\n      this.registerForm.controls.lastName as FormControl,\n      this.registerForm.controls.isProvider as FormControl,\n      null,\n      Validators.required,\n      this\n    );\n    this.formHelper.setConditionalValidators(\n      this.registerForm.controls.affiliateCode as FormControl,\n      this.registerForm.controls.hasAffiliateCode as FormControl,\n      null,\n      Validators.compose([Validators.required, Validators.pattern(\"09\\\\d{9}\")]),\n      this\n    );\n  }\n  ionViewWillEnter() {\n    this.menu.enable(false);\n  }\n\n  openTerms() {\n    this.presentTermsModal().subscribe();\n  }\n  presentTermsModal() {\n    return from(\n      this.modalController.create({\n        component: TermsComponent,\n        componentProps: {},\n      })\n    ).pipe(\n      concatMap((modal) => {\n        modal.onDidDismiss;\n        from(modal.onDidDismiss()).subscribe((data) => {});\n        return from(modal.present());\n      })\n    );\n  }\n  ionViewWillLeave() {\n    this.menu.enable(true);\n  }\n  register(form: FormGroup) {\n    if (!this.formHelper.validateForm(this.validationMessages, form)) {\n      return;\n    }\n    let firstName = null;\n    let lastName = null;\n    let roleId = this.env.USER_ROLE_ID;\n    if (form.value.isProvider) {\n      roleId = this.env.PROVIDER_ROLE_ID;\n      firstName = form.value.firstName;\n      lastName = form.value.lastName;\n    }\n    let affiliateCode = null;\n    if (\n      !form.controls.isProvider.value &&\n      form.controls.hasAffiliateCode.value &&\n      form.value.affiliateCode != \"\"\n    ) {\n      affiliateCode = form.value.affiliateCode;\n    }\n\n    this.env.somethingIsPending(\"registering\");\n    this.authService\n      .register(\n        form.value.phone,\n        firstName,\n        lastName,\n        form.value.password,\n        roleId,\n        affiliateCode\n      )\n      .pipe(\n        concatMap((result) => {\n          {\n            return this.authService\n              .requestVerificationCode(form.value.phone, form.value.password)\n              .pipe(\n                tap((result) => {\n                  this.authService.tempPassword = form.value.password;\n                  this.authService.tempPhoneNumber = form.value.phone;\n                }),\n                catchError((err) => {\n                  this.alertService.presentError(\n                    this.env.serverErrorMessage(err.error[\"error_code\"])\n                  );\n                  return of(false);\n                })\n              );\n          }\n        }),\n        catchError((error) => {\n          this.alertService.presentError(\n            this.env.serverErrorMessage(error.error[\"error_code\"])\n          );\n          return of(false);\n        })\n      )\n      .subscribe((data) => {\n        this.env.somethingIsDonePending(\"registering\");\n        if (data != false) {\n          this.alertService.presentSuccess(\n            \"کد اعتبارسنجی به شماره همراه شما راسال شد.\"\n          );\n          this.navContorll.navigateForward(\"/verify\");\n        }\n      });\n  }\n  ngOnDestroy(): void {\n    //Called once, before the instance is destroyed.\n    //Add 'implements OnDestroy' to the class.\n  }\n}\n"]}