{"version":3,"sources":["./src/app/auth/register/register.page.html","./src/app/auth/register/register-routing.module.ts","./src/app/auth/register/register.module.ts","./src/app/auth/register/register.page.scss","./src/app/auth/register/register.page.ts"],"names":[],"mappings":"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","file":"auth-register-register-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n\\t<ion-buttons slot=\\\"end\\\">\\n\\t\\t<app-loading-toolbar-button></app-loading-toolbar-button>\\n\\t  </ion-buttons>\\n    <ion-title>ثبت نام</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content class=\\\"ion-padding\\\">\\n  <form\\n    [formGroup]=\\\"registerForm\\\"\\n    (ngSubmit)=\\\"register(registerForm)\\\"\\n    class=\\\"action-container register-form\\\"\\n    method=\\\"post\\\"\\n  >\\n    <div class=\\\"action-content\\\">\\n      <div class=\\\"row justify-content-center\\\" *ngIf=\\\"registerForm.controls.isProvider.value\\\">\\n        <div class=\\\"col-12\\\">\\n          <ion-item>\\n            <ion-input  placeholder=\\\"نام\\\" formControlName=\\\"firstName\\\"></ion-input>\\n          </ion-item>\\n        </div>\\n      </div>\\n      <div class=\\\"row justify-content-center\\\" *ngIf=\\\"registerForm.controls.isProvider.value\\\">\\n        <div class=\\\"col-12\\\">\\n          <ion-item>\\n            <ion-input\\n              placeholder=\\\"نام خانوادگی\\\"\\n              formControlName=\\\"lastName\\\"\\n            ></ion-input>\\n          </ion-item>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row justify-content-center\\\">\\n        <div class=\\\"col-12\\\">\\n          <ion-item>\\n            <ion-input\\n              type=\\\"phone\\\"\\n              placeholder=\\\"شماره موبایل ۰۹XXXXXXXX\\\"\\n              formControlName=\\\"phone\\\"\\n            ></ion-input>\\n          </ion-item>\\n        </div>\\n      </div>\\n      <div class=\\\"row justify-content-center\\\">\\n        <div class=\\\"col-12\\\">\\n          <ion-item>\\n            <ion-input\\n              type=\\\"password\\\"\\n              placeholder=\\\"گذرواژه\\\"\\n              formControlName=\\\"password\\\"\\n            ></ion-input>\\n          </ion-item>\\n        </div>\\n      </div>\\n      <div class=\\\"row mt-3 justify-content-start\\\">\\n        <div class=\\\"col-6 d-flex align-items-center justify-content-right\\\">\\n          <ion-checkbox\\n          formControlName=\\\"isProvider\\\"\\n            #isProvider\\n            class=\\\"primary-checkbox\\\"\\n          ></ion-checkbox>\\n          <span class=\\\"light-text small-text mr-2\\\">به عنوان مشاور</span>\\n        </div>\\n      </div>\\n      <div   class=\\\"row mt-3 justify-content-start\\\">\\n        <div  class=\\\"col-6 d-flex align-items-center justify-content-right\\\">\\n          <ion-checkbox\\n            formControlName=\\\"hasAffiliateCode\\\"\\n            \\n            class=\\\"primary-checkbox\\\"\\n          ></ion-checkbox>\\n          <span class=\\\"light-text small-text mr-2\\\">کد معرفی دارم.</span>\\n        </div>\\n      </div>\\n      <div *ngIf=\\\"registerForm.controls.hasAffiliateCode.value \\\" class=\\\"row justify-content-center\\\">\\n        <div class=\\\"col-12\\\">\\n          <ion-item>\\n            <ion-input\\n              type=\\\"phone\\\"\\n              placeholder=\\\"کد معرف ۰۹XXXXXXXX\\\"\\n              formControlName=\\\"affiliateCode\\\"\\n            ></ion-input>\\n          </ion-item>\\n        </div>\\n      </div>\\n      <div class=\\\"row mt-3 justify-content-start\\\">\\n        <div class=\\\"col-6 d-flex align-items-center justify-content-right\\\">\\n          <ion-checkbox\\n            formControlName=\\\"acceptedTerms\\\"\\n            #acceptedTerms\\n            class=\\\"primary-checkbox\\\"\\n          ></ion-checkbox>\\n          <span class=\\\"light-text small-text mr-2\\\" ><u (click)=\\\"openTerms()\\\">قوانین</u> را می پذیرم.</span>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"actions\\\">\\n      <div class=\\\"actions-wrapper dual\\\">\\n        <app-submit-button [disabled]=\\\"!registerForm.controls.acceptedTerms.value\\\" text=\\\"ثبت نام\\\" ></app-submit-button>\\n        <span class=\\\"small-text light-text align-self-center mt-3 mb-1\\\">حساب کاربری از پیش ساخته اید؟</span>\\n\\n        <ion-button\\n          class=\\\"secondary-button\\\"\\n          routerLink=\\\"/login\\\"\\n          routerDirection=\\\"back\\\"\\n          >وارد شوید</ion-button\\n        >\\n      </div>\\n    </div>\\n  </form>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RegisterPage } from './register.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RegisterPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RegisterPageRoutingModule {}\n","import { ReactiveFormsModule } from '@angular/forms';\nimport { TermsComponent } from './../../common/static/terms/terms.component';\nimport { CommonDeclarationsModule } from './../../common/common-declarations/common-declarations.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RegisterPageRoutingModule } from './register-routing.module';\n\nimport { RegisterPage } from './register.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RegisterPageRoutingModule,\n    CommonDeclarationsModule,\n    ReactiveFormsModule\n  ],\n  declarations: [RegisterPage],\n  entryComponents: [TermsComponent]\n})\nexport class RegisterPageModule {}\n","export default \".register-form {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXV0aC9yZWdpc3Rlci9yZWdpc3Rlci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFHSSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsOEJBQUE7QUFESiIsImZpbGUiOiJzcmMvYXBwL2F1dGgvcmVnaXN0ZXIvcmVnaXN0ZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnJlZ2lzdGVyLWZvcm1cbntcblxuICAgIGhlaWdodDogMTAwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuXG59Il19 */\";","import { FormHelperService } from \"./../../services/form-helper.service\";\nimport {\n  FormValidationMessageField,\n  FormValidationType,\n} from \"src/app/models/from-validation-message\";\nimport { TermsComponent } from \"./../../common/static/terms/terms.component\";\nimport { ProviderGroup } from \"./../../models/provider-group\";\nimport { ProviderService } from \"./../../services/provider.service\";\nimport { EnvService } from \"./../../services/env.service\";\nimport { tap, takeUntil } from \"rxjs/operators\";\nimport { catchError, map } from \"rxjs/operators\";\nimport { concatMap } from \"rxjs/operators\";\nimport { AuthService } from \"src/app/services/auth.service\";\nimport { AlertService } from \"./../../services/alert.service\";\nimport { NgForm, FormGroup, FormControl, Validators } from \"@angular/forms\";\nimport { Component, OnInit } from \"@angular/core\";\nimport { MenuController, NavController, ModalController } from \"@ionic/angular\";\nimport { of, from, Subject } from \"rxjs\";\n@Component({\n  selector: \"app-register\",\n  templateUrl: \"./register.page.html\",\n  styleUrls: [\"./register.page.scss\"],\n})\nexport class RegisterPage implements OnInit {\n  registerForm = new FormGroup({\n    firstName: new FormControl(),\n    lastName: new FormControl(),\n    phone: new FormControl(\n      \"\",\n      Validators.compose([Validators.required, Validators.pattern(\"09\\\\d{9}\")])\n    ),\n    password: new FormControl(\"\", Validators.required),\n    isProvider: new FormControl(false),\n    hasAffiliateCode: new FormControl(false),\n    affiliateCode: new FormControl(\"\"),\n    acceptedTerms: new FormControl(false),\n  });\n  validationMessages: FormValidationMessageField[] = [];\n  constructor(\n    private menu: MenuController,\n    private alertService: AlertService,\n    private navContorll: NavController,\n    private authService: AuthService,\n    private env: EnvService,\n    private providerService: ProviderService,\n    private modalController: ModalController,\n    private formHelper: FormHelperService\n  ) {\n    this.formHelper.addValidationMessage(\n      this.validationMessages,\n      \"firstName\",\n      FormValidationType.REQUIRED,\n      \"نام الزامی است.\"\n    );\n    this.formHelper.addValidationMessage(\n      this.validationMessages,\n      \"lastName\",\n      FormValidationType.REQUIRED,\n      \"نام خانوادگی الزامی است.\"\n    );\n    this.formHelper.addValidationMessage(\n      this.validationMessages,\n      \"affiliateCode\",\n      FormValidationType.REQUIRED,\n      \"کد معرف وارد نشده است.\"\n    );\n    this.formHelper.addValidationMessage(\n      this.validationMessages,\n      \"affiliateCode\",\n      FormValidationType.PATTERN,\n      \"کد معرف یک شماره موبایل است.\"\n    );\n    this.formHelper.addValidationMessage(\n      this.validationMessages,\n      \"phone\",\n      FormValidationType.REQUIRED,\n      \"شماره موبایل الزامی است.\"\n    );\n    this.formHelper.addValidationMessage(\n      this.validationMessages,\n      \"phone\",\n      FormValidationType.PATTERN,\n      \"فرمت شماره موبایل صحیح نیست.\"\n    );\n    this.formHelper.addValidationMessage(\n      this.validationMessages,\n      \"password\",\n      FormValidationType.REQUIRED,\n      \"گذرواژه الزامی است.\"\n    );\n  }\n\n  ngOnInit() {\n    this.formHelper.setConditionalValidators(\n      this.registerForm.controls.firstName as FormControl,\n      this.registerForm.controls.isProvider as FormControl,\n      null,\n      Validators.required,\n      this\n    );\n    this.formHelper.setConditionalValidators(\n      this.registerForm.controls.lastName as FormControl,\n      this.registerForm.controls.isProvider as FormControl,\n      null,\n      Validators.required,\n      this\n    );\n    this.formHelper.setConditionalValidators(\n      this.registerForm.controls.affiliateCode as FormControl,\n      this.registerForm.controls.hasAffiliateCode as FormControl,\n      null,\n      Validators.compose([Validators.required, Validators.pattern(\"09\\\\d{9}\")]),\n      this\n    );\n  }\n  ionViewWillEnter() {\n    this.menu.enable(false);\n  }\n\n  openTerms() {\n    this.presentTermsModal().subscribe();\n  }\n  presentTermsModal() {\n    return from(\n      this.modalController.create({\n        component: TermsComponent,\n        componentProps: {},\n      })\n    ).pipe(\n      concatMap((modal) => {\n        modal.onDidDismiss;\n        from(modal.onDidDismiss()).subscribe((data) => {});\n        return from(modal.present());\n      })\n    );\n  }\n  ionViewWillLeave() {\n    this.menu.enable(true);\n  }\n  register(form: FormGroup) {\n    if (!this.formHelper.validateForm(this.validationMessages, form)) {\n      return;\n    }\n    let firstName = null;\n    let lastName = null;\n    let roleId = this.env.USER_ROLE_ID;\n    if (form.value.isProvider) {\n      roleId = this.env.PROVIDER_ROLE_ID;\n      firstName = form.value.firstName;\n      lastName = form.value.lastName;\n    }\n    let affiliateCode = null;\n    if (\n      !form.controls.isProvider.value &&\n      form.controls.hasAffiliateCode.value &&\n      form.value.affiliateCode != \"\"\n    ) {\n      affiliateCode = form.value.affiliateCode;\n    }\n\n    this.env.somethingIsPending(\"registering\");\n    this.authService\n      .register(\n        form.value.phone,\n        firstName,\n        lastName,\n        form.value.password,\n        roleId,\n        affiliateCode\n      )\n      .pipe(\n        concatMap((result) => {\n          {\n            return this.authService\n              .requestVerificationCode(form.value.phone, form.value.password)\n              .pipe(\n                tap((result) => {\n                  this.authService.tempPassword = form.value.password;\n                  this.authService.tempPhoneNumber = form.value.phone;\n                }),\n                catchError((err) => {\n                  this.alertService.presentError(\n                    this.env.serverErrorMessage(err.error[\"error_code\"])\n                  );\n                  return of(false);\n                })\n              );\n          }\n        }),\n        catchError((error) => {\n          this.alertService.presentError(\n            this.env.serverErrorMessage(error.error[\"error_code\"])\n          );\n          return of(false);\n        })\n      )\n      .subscribe((data) => {\n        this.env.somethingIsDonePending(\"registering\");\n        if (data != false) {\n          this.alertService.presentSuccess(\n            \"کد اعتبارسنجی به شماره همراه شما راسال شد.\"\n          );\n          this.navContorll.navigateForward(\"/verify\");\n        }\n      });\n  }\n  ngOnDestroy(): void {\n    //Called once, before the instance is destroyed.\n    //Add 'implements OnDestroy' to the class.\n  }\n}\n"],"sourceRoot":"webpack:///"}